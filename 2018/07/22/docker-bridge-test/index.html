<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Docker搭建Web测试环境一般步骤及相关命令总结 | Peithon&#39;s Blog</title>

  <!-- keywords -->
  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="0x00 前言最近学习Docker中web环境的搭建，所以记录一下搭建过程中需要用到的命令以及相关步骤，本次搭建的数据库是从别的主机导出来的，所以还会涉及到一点SQL文件的导入和导出相关操作。">
<meta name="keywords" content="sql文件导出和导入,容器端口转发,Docker网络模式">
<meta property="og:type" content="article">
<meta property="og:title" content="Docker搭建Web测试环境一般步骤及相关命令总结">
<meta property="og:url" content="http://yoursite.com/2018/07/22/docker-bridge-test/index.html">
<meta property="og:site_name" content="Peithon&#39;s Blog">
<meta property="og:description" content="0x00 前言最近学习Docker中web环境的搭建，所以记录一下搭建过程中需要用到的命令以及相关步骤，本次搭建的数据库是从别的主机导出来的，所以还会涉及到一点SQL文件的导入和导出相关操作。">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://p8urkh0xe.bkt.clouddn.com/18-7-21/86203460.jpg">
<meta property="og:image" content="http://p8urkh0xe.bkt.clouddn.com/18-7-21/10613190.jpg">
<meta property="og:image" content="http://p8urkh0xe.bkt.clouddn.com/18-7-21/13840395.jpg">
<meta property="og:image" content="http://p8urkh0xe.bkt.clouddn.com/18-7-21/933791.jpg">
<meta property="og:image" content="http://p8urkh0xe.bkt.clouddn.com/18-7-21/70381321.jpg">
<meta property="og:image" content="http://p8urkh0xe.bkt.clouddn.com/18-7-21/45046857.jpg">
<meta property="og:image" content="http://p8urkh0xe.bkt.clouddn.com/18-7-21/37931981.jpg">
<meta property="og:image" content="http://p8urkh0xe.bkt.clouddn.com/18-7-21/87420309.jpg">
<meta property="og:image" content="http://p8urkh0xe.bkt.clouddn.com/18-7-21/6726241.jpg">
<meta property="og:image" content="http://p8urkh0xe.bkt.clouddn.com/18-7-21/40033266.jpg">
<meta property="og:image" content="http://p8urkh0xe.bkt.clouddn.com/18-7-21/3109291.jpg">
<meta property="og:image" content="http://p8urkh0xe.bkt.clouddn.com/18-7-21/53428903.jpg">
<meta property="og:image" content="http://p8urkh0xe.bkt.clouddn.com/18-7-21/23561606.jpg">
<meta property="og:image" content="http://p8urkh0xe.bkt.clouddn.com/18-7-21/93957858.jpg">
<meta property="og:image" content="http://p8urkh0xe.bkt.clouddn.com/18-7-21/34640633.jpg">
<meta property="og:image" content="http://p8urkh0xe.bkt.clouddn.com/18-7-21/17405184.jpg">
<meta property="og:image" content="http://p8urkh0xe.bkt.clouddn.com/18-7-21/30524912.jpg">
<meta property="og:image" content="http://p8urkh0xe.bkt.clouddn.com/18-7-21/3341134.jpg">
<meta property="og:updated_time" content="2018-07-24T21:04:42.047Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Docker搭建Web测试环境一般步骤及相关命令总结">
<meta name="twitter:description" content="0x00 前言最近学习Docker中web环境的搭建，所以记录一下搭建过程中需要用到的命令以及相关步骤，本次搭建的数据库是从别的主机导出来的，所以还会涉及到一点SQL文件的导入和导出相关操作。">
<meta name="twitter:image" content="http://p8urkh0xe.bkt.clouddn.com/18-7-21/86203460.jpg">
  
    <link rel="alternative" href="/atom.xml" title="Peithon&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="http://p8urkh0xe.bkt.clouddn.com/touxiang.jpg">
  
  <link rel="stylesheet" href="/css/style.css">
  
<script>
    (function(){
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
        }
        else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

  

  <script src="//cdn.bootcss.com/require.js/2.3.2/require.min.js"></script>
  <script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>

  
      <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
<script>AV.initialize("YV6LWh5W8UQ3bQKoo628fNVK-gzGzoHsz", "SnDWsQ8dkIu3YguxR8PB7ok5");</script>
<script src="/js/Counter.js"></script>

  
</head>
<body>
  <div id="container">
    <div id="particles-js"></div>
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="http://p8urkh0xe.bkt.clouddn.com/touxiang.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Peithon</a></h1>
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">归档</a></li>
				        
							<li><a href="/about">关于</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/CentOS7/" style="font-size: 10px;">CentOS7</a> <a href="/tags/Centos7网络配置/" style="font-size: 10px;">Centos7网络配置</a> <a href="/tags/Docker网络模式/" style="font-size: 10px;">Docker网络模式</a> <a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/tags/Linux内核/" style="font-size: 10px;">Linux内核</a> <a href="/tags/ftp常用命令/" style="font-size: 10px;">ftp常用命令</a> <a href="/tags/ftp的搭建/" style="font-size: 10px;">ftp的搭建</a> <a href="/tags/kvm虚拟化/" style="font-size: 10px;">kvm虚拟化</a> <a href="/tags/lnmp搭建/" style="font-size: 10px;">lnmp搭建</a> <a href="/tags/sql文件导出和导入/" style="font-size: 10px;">sql文件导出和导入</a> <a href="/tags/ssh安全加固/" style="font-size: 10px;">ssh安全加固</a> <a href="/tags/ssh服务/" style="font-size: 10px;">ssh服务</a> <a href="/tags/tigervnc安装/" style="font-size: 10px;">tigervnc安装</a> <a href="/tags/virsh常用命令/" style="font-size: 10px;">virsh常用命令</a> <a href="/tags/容器端口转发/" style="font-size: 10px;">容器端口转发</a> <a href="/tags/密钥登录/" style="font-size: 10px;">密钥登录</a> <a href="/tags/建立虚拟用户/" style="font-size: 10px;">建立虚拟用户</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://cherrygk.github.io/">cherrygk渗透大佬</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://ssssdl.github.io">ssssdl XSS大佬</a>
			        
			        </div>
				</section>
				

				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Peithon</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="http://p8urkh0xe.bkt.clouddn.com/touxiang.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">Peithon</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">归档</a></li>
		        
					<li><a href="/about">关于</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-docker-bridge-test" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2018/07/22/docker-bridge-test/" class="article-date">
  	<time datetime="2018-07-21T18:38:13.000Z" itemprop="datePublished">2018-07-22</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Docker搭建Web测试环境一般步骤及相关命令总结
      
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Docker网络模式/">Docker网络模式</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/sql文件导出和导入/">sql文件导出和导入</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/容器端口转发/">容器端口转发</a></li></ul>
	</div>

        
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Linux/">Linux</a><a class="article-category-link" href="/categories/Linux/Docker/">Docker</a>
	</div>


        
          
<div class="counter-tag counter">
    <span id="/2018/07/22/docker-bridge-test/" class="leancloud_visitors post-title-link"
          style="font-size: 12px" data-flag-title="Docker搭建Web测试环境一般步骤及相关命令总结">
         &nbsp;
        view
    </span>
</div>

        
        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="0x00-前言"><a href="#0x00-前言" class="headerlink" title="0x00 前言"></a>0x00 前言</h2><p>最近学习Docker中web环境的搭建，所以记录一下搭建过程中需要用到的命令以及相关步骤，本次搭建的数据库是从别的主机导出来的，所以还会涉及到一点SQL文件的导入和导出相关操作。<br><a id="more"></a></p>
<h2 id="0x01-pull-lamp镜像"><a href="#0x01-pull-lamp镜像" class="headerlink" title="0x01 pull lamp镜像"></a>0x01 pull lamp镜像</h2><p>查找Docker Hub上的lamp镜像</p>
<pre><code>[root@Peithon ~]# docker search lamp
NAME                                   DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED
linode/lamp                            LAMP on Ubuntu 14.04.1 LTS Container            144                                     
tutum/lamp                             Out-of-the-box LAMP image (PHP+MySQL)           97                                      
greyltc/lamp                           a super secure, up-to-date and lightweight L…   85                                      [OK]
fauria/lamp                            Modern, developer friendly LAMP stack. Inclu…   41                                      [OK]
janes/alpine-lamp                      lamp base on alpine linux                       35                                      [OK]
nickistre/ubuntu-lamp                  LAMP server on Ubuntu                           26                                      [OK]
mattrayner/lamp                        A simple LAMP docker image running the prere…   22                                      [OK]
nickistre/centos-lamp                  LAMP on centos setup                            21                                      [OK]
nickistre/ubuntu-lamp-wordpress        LAMP on Ubuntu with wp-cli installed            9                                       [OK]
lioshi/lamp                            Docker image for LAMP + MySql under debian      9                                       [OK]
x4j5/silverstripe-lamp                 lamp stack for silverstripe development (Deb…   5                                       [OK]
nickistre/ubuntu-lamp-xdebug           LAMP on Ubuntu with xdebug installed            4                                       [OK]
sminnee/silverstripe-lamp              Docker image for SilverStripe LAMP stack tha…   4                                       
nickistre/centos-lamp-wordpress        LAMP on CentOS setups with wp-cli installed     3                                       [OK]
dell/lamp-base                         Base LAMP Image for dependant images            3                                       
nickistre/centos-lamp-xdebug           LAMP on centos with xDebug                      3                                       [OK]
shelleyma/lampp2                       lampp from github                               2                                       [OK]
gizra/drupal-lamp                      A base LAMP docker file for drupal projects.    2                                       [OK]
theodotos/ubuntu-lamp                  A LAMP (Linux/Apache/MariaDB/PHP) image base…   2                                       
lead4good/lamp-php                     LAMP Stack PHP                                  1                                       [OK]
ready2order/lamp                       LAMP                                            1                                       
thinkiq/lamp                           ThinkIQ Lamp image                              0                                       [OK]
davefx/trusty-lamp-selenium-headless   Ubuntu 14.04 system with configured LAMP ser…   0                                       [OK]
greyltc/lamp-aur                       LAMP stack (in Arch with php7) with AUR acce…   0                                       [OK]
lead4good/lamp-mysql                   LAMP-Stack MySQL                                0                                       [OK]
</code></pre><p>拉取镜像到本地</p>
<pre><code>[root@Peithon ~]# docker pull tutum/lamp
</code></pre><h2 id="0x02-网络模式的选择"><a href="#0x02-网络模式的选择" class="headerlink" title="0x02 网络模式的选择"></a>0x02 网络模式的选择</h2><p>使用docker run创建Docker容器时，需要根据自己的需要选择容器的网络模式，在Docker中有四种网络模式可以供我们选择,通常使用birdge模式比较多见。</p>
<h3 id="1-bridge模式：使用–net-bridge指定，默认设置"><a href="#1-bridge模式：使用–net-bridge指定，默认设置" class="headerlink" title="1). bridge模式：使用–net=bridge指定，默认设置"></a>1). bridge模式：使用–net=bridge指定，默认设置</h3><p>当我们的Docker server启动时，会在主机创建一个docker0的虚拟网桥，当我们选择使用bridge模式，会为每一个容器分配Network Namespace、设置IP等，每个bridge模式的容器之间可以相互通信，主机和容器之间可以相互通信，但是外部无法访问到这些容器，而docker0就类似于交换机一样的功能。</p>
<pre><code># [root@Peithon ~]# docker run -d --name=webtest --net=bridge 3d49e175ec00
</code></pre><p><img src="http://p8urkh0xe.bkt.clouddn.com/18-7-21/86203460.jpg" alt=""></p>
<p>可以看到会从<code>172.17.0.0/16</code>这个网段随机分配一个没有被使用的ip，因为网络模式默认是使用bridge模式的，所以可以不用使用命令来指定。</p>
<p><img src="http://p8urkh0xe.bkt.clouddn.com/18-7-21/10613190.jpg" alt=""></p>
<p>使用<code>docker network inspect bridge</code>可以查看该网络模式下有哪些容器</p>
<p><img src="http://p8urkh0xe.bkt.clouddn.com/18-7-21/13840395.jpg" alt=""></p>
<h3 id="2-host模式：使用–net-host指定"><a href="#2-host模式：使用–net-host指定" class="headerlink" title="2). host模式：使用–net=host指定"></a>2). host模式：使用–net=host指定</h3><p>启动容器时使用host模式，容器将不会拥有自己独立的Network Namespace和IP,而是和主机共享同一个Network Namespace，容器将不会虚拟出自己的网卡，配置自己的IP等，而是使用宿主机的IP和端口。</p>
<pre><code>[root@Peithon ~]# docker run -d --name=webtest3 --net=host 3d49e175ec00
</code></pre><p><img src="http://p8urkh0xe.bkt.clouddn.com/18-7-21/933791.jpg" alt=""></p>
<p>下面是主机的</p>
<p><img src="http://p8urkh0xe.bkt.clouddn.com/18-7-21/70381321.jpg" alt=""></p>
<p>查看网络模式为host的信息</p>
<p><img src="http://p8urkh0xe.bkt.clouddn.com/18-7-21/45046857.jpg" alt=""></p>
<p>通过这种方式创建的容器，容器发生端口冲突</p>
<h3 id="3-none模式：使用–net-none指定-也可以使用–network-none"><a href="#3-none模式：使用–net-none指定-也可以使用–network-none" class="headerlink" title="3). none模式：使用–net=none指定(也可以使用–network none)"></a>3). none模式：使用–net=none指定(也可以使用–network none)</h3><p>该模式有自己独立的Network Namespace，但不为Docker容器进行任何网络配置，需要自己手动添加。</p>
<pre><code>[root@Peithon ~]# docker run -d --name webtest4 --network none 3d49e175ec00
</code></pre><p><img src="http://p8urkh0xe.bkt.clouddn.com/18-7-21/37931981.jpg" alt=""></p>
<p>这种模式下的容器外部无法访问，可以放一些重要的文件或者工具，这样只有本地可以访问，安全性会比较高。</p>
<h3 id="4-container模式：使用–net-container-NAMEorID指定"><a href="#4-container模式：使用–net-container-NAMEorID指定" class="headerlink" title="4). container模式：使用–net=container:NAMEorID指定"></a>4). container模式：使用–net=container:NAMEorID指定</h3><p>指定新创建的容器和已经存在的一个容器共用一个Network Namespace，而不是和宿主机共享，两个容器除了网络方面，其他的如文件系统、进程列表等还是隔离的。</p>
<pre><code>[root@Peithon ~]# docker run -d --name webtest5 --network container:webtest 3d49e175ec00
</code></pre><p><img src="http://p8urkh0xe.bkt.clouddn.com/18-7-21/87420309.jpg" alt=""></p>
<p>可以看出<code>webtest5</code>和<code>webtest</code>是共享网络的。</p>
<p><strong>本次搭建将使用bridge模式,并将上面测试所建容器删除</strong></p>
<h2 id="0x03-创建容器，并将80端口转发到宿主机的8001端口"><a href="#0x03-创建容器，并将80端口转发到宿主机的8001端口" class="headerlink" title="0x03 创建容器，并将80端口转发到宿主机的8001端口"></a>0x03 创建容器，并将80端口转发到宿主机的8001端口</h2><pre><code>[root@Peithon ~]# docker run -d --name test1 -p 8001:80 tutum/lamp
</code></pre><p><img src="http://p8urkh0xe.bkt.clouddn.com/18-7-21/6726241.jpg" alt=""></p>
<p>通过将容器的端口转发到宿主机，在宿主机上可以访问本机的端口来访问Docker容器中的服务</p>
<p><img src="http://p8urkh0xe.bkt.clouddn.com/18-7-21/40033266.jpg" alt=""></p>
<p>在防火墙开放8001端口，使外部网络也能对其进行访问</p>
<pre><code>[root@Peithon ~]# firewall-cmd --zone=public --add-port=8001/tcp --permanent
[root@Peithon ~]# firewall-cmd --reload #重启firewall
</code></pre><h2 id="0x04-主机和容器之间文件的拷贝"><a href="#0x04-主机和容器之间文件的拷贝" class="headerlink" title="0x04 主机和容器之间文件的拷贝"></a>0x04 主机和容器之间文件的拷贝</h2><h3 id="1-将本地的-opt-src-Web1下的html文件拷贝到test1容器中的-var-www目录下"><a href="#1-将本地的-opt-src-Web1下的html文件拷贝到test1容器中的-var-www目录下" class="headerlink" title="1).将本地的/opt/src/Web1下的html文件拷贝到test1容器中的/var/www目录下"></a>1).将本地的<code>/opt/src/Web1</code>下的<code>html</code>文件拷贝到<code>test1</code>容器中的<code>/var/www</code>目录下</h3><p><strong><em>docker cp 宿主机中要拷贝的文件名及其路径 容器名：要拷贝到容器里面对应的路径</em></strong></p>
<p>在宿主机执行命令</p>
<pre><code>[root@Peithon ~]# docker cp /opt/src/Web1/html test1:/var/www
</code></pre><p><img src="http://p8urkh0xe.bkt.clouddn.com/18-7-21/3109291.jpg" alt=""></p>
<h3 id="2-将test1容器中的-var-www目录下的html文件拷贝到本地的-opt-src-Web1下"><a href="#2-将test1容器中的-var-www目录下的html文件拷贝到本地的-opt-src-Web1下" class="headerlink" title="2).将test1容器中的/var/www目录下的html文件拷贝到本地的/opt/src/Web1下"></a>2).将<code>test1</code>容器中的<code>/var/www</code>目录下的<code>html</code>文件拷贝到本地的<code>/opt/src/Web1</code>下</h3><p>在宿主机执行命令</p>
<pre><code>[root@Peithon ~]# docker cp test1:/var/www/html /opt/src/Web1
</code></pre><p><strong>拷贝命令不管容器有没有启动都生效</strong></p>
<p>通过<code>docker cp</code>将宿主机上的站点文件拷贝到Docker容器中</p>
<h2 id="0x05-从宿主机的数据库中导出SQL文件，导入到Docker中的数据库中"><a href="#0x05-从宿主机的数据库中导出SQL文件，导入到Docker中的数据库中" class="headerlink" title="0x05 从宿主机的数据库中导出SQL文件，导入到Docker中的数据库中"></a>0x05 从宿主机的数据库中导出SQL文件，导入到Docker中的数据库中</h2><p><strong><em>mysqldump -h localhost -u root -p 数据库名 &gt;/opt/src/Web1/dbsqlfile.sql</em></strong></p>
<pre><code>[root@Peithon ~]# mysqldump -h localhost -u root -p ctf1003 &gt;/opt/src/Web1/dbctf1003.sql
</code></pre><p><img src="http://p8urkh0xe.bkt.clouddn.com/18-7-21/53428903.jpg" alt=""></p>
<p>输入密码，到此将mysql数据库中的ctf1003数据库导出到dbctf1003.sql文件中了</p>
<p>Docker中的数据库默认没有密码的，所以还需要我们设置一下密码</p>
<pre><code>#登录数据库之后
&gt;set password for &apos;root&apos;@&apos;localhost&apos;=password(&apos;123456&apos;);
&gt;create database ctf1003;
</code></pre><p>将SQL文件导入数据到Docker容器中的数据库中</p>
<pre><code>[root@Peithon ~]# mysql -h localhost -u root -p ctf1003 &lt; /opt/src/Web1/dbctf1003.sql
</code></pre><p>输入密码，然后就OK了</p>
<p><img src="http://p8urkh0xe.bkt.clouddn.com/18-7-21/23561606.jpg" alt=""></p>
<h2 id="0x06-提交容器打包成新的镜像"><a href="#0x06-提交容器打包成新的镜像" class="headerlink" title="0x06 提交容器打包成新的镜像"></a>0x06 提交容器打包成新的镜像</h2><pre><code>[root@Peithon ~]# docker commit -a &quot;Peithon&quot; -m &quot;Web 测试&quot; e61c66465773 ubuntu:web500
</code></pre><p>e61c66465773 ：CONTAINER ID<br>ubuntu:web500 -&gt;新镜像的REPOSITORY:TAG</p>
<p><img src="http://p8urkh0xe.bkt.clouddn.com/18-7-21/93957858.jpg" alt=""></p>
<p>查看刚打包的镜像</p>
<p><img src="http://p8urkh0xe.bkt.clouddn.com/18-7-21/34640633.jpg" alt=""></p>
<h2 id="0x07-上传到Docker-Hub上"><a href="#0x07-上传到Docker-Hub上" class="headerlink" title="0x07 上传到Docker Hub上"></a>0x07 上传到Docker Hub上</h2><h3 id="1-标记镜像"><a href="#1-标记镜像" class="headerlink" title="1). 标记镜像"></a>1). 标记镜像</h3><p><strong><em>docker tag image username/repository:tag</em></strong></p>
<pre><code>[root@Peithon ~]# docker tag ubuntu:web500 peithon/ubuntu:web500
</code></pre><p><img src="http://p8urkh0xe.bkt.clouddn.com/18-7-21/17405184.jpg" alt=""></p>
<h3 id="2-Docker-Hub账号登录"><a href="#2-Docker-Hub账号登录" class="headerlink" title="2).Docker Hub账号登录"></a>2).Docker Hub账号登录</h3><pre><code>[root@Peithon ~]# docker login
</code></pre><p>然后输入用户密码，登录成功之后将镜像标记然后上传。</p>
<h3 id="3-将标记镜像上传到存储库"><a href="#3-将标记镜像上传到存储库" class="headerlink" title="3).将标记镜像上传到存储库"></a>3).将标记镜像上传到存储库</h3><p><strong><em>docker push username/repository:tag</em></strong></p>
<pre><code>[root@Peithon ~]# docker push peithon/ubuntu:web500
</code></pre><p><img src="http://p8urkh0xe.bkt.clouddn.com/18-7-21/30524912.jpg" alt=""></p>
<p>登录到Docker Hub上查看是否上传成功</p>
<p><img src="http://p8urkh0xe.bkt.clouddn.com/18-7-21/3341134.jpg" alt=""></p>
<p>至此就基本完成了环境的搭建</p>
<h3 id="未经本人允许，禁止转载"><a href="#未经本人允许，禁止转载" class="headerlink" title="*未经本人允许，禁止转载"></a>*未经本人允许，禁止转载</h3>
      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2018/06/03/linux-kernel/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">Linux内核引发的Docker安装失败问题</div>
      <strong class="article-nav-caption">&gt;</strong>
    </a>
  
</nav>

  
</article>






</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
      <div class="footer-left">
        &copy; 2018 Peithon
      </div>
        <div class="footer-right">
          <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/smackgg/hexo-theme-smackdown" target="_blank">Smackdown</a>
        </div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="/js/main.js"></script>



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js"></script>


  </div>
</body>
</html>